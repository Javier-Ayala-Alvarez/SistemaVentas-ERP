<div class="container-fluid mt-3 cliente-layout">

  <!-- ================= HEADER ================= -->
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h5 class="fw-bold mb-0">
      <i class="fas fa-user me-2 text-primary"></i>
      Seleccionar Cliente
    </h5>

    <button class="btn btn-outline-secondary btn-sm"
            (click)="activeModal.dismiss()">
      <i class="fas fa-times me-1"></i>
      Cerrar
    </button>
  </div>

  <!-- ================= FILTROS ================= -->
  <div class="card shadow-sm mb-3">
    <div class="card-body py-2">
      <div class="row g-2">

        <div class="col-md-2">
          <input class="form-control form-control-sm"
                 [(ngModel)]="filtroCodigo"
                 (input)="loadCliente()"
                 placeholder="C칩digo">
        </div>

        <div class="col-md-4">
          <input class="form-control form-control-sm"
                 [(ngModel)]="filtroNombre"
                 (input)="loadCliente()"
                 placeholder="Nombre del cliente">
        </div>

        <div class="col-md-3">
          <input class="form-control form-control-sm"
                 [(ngModel)]="filtroDui"
                 (input)="loadCliente()"
                 placeholder="DUI">
        </div>

        <div class="col-md-3">
          <input class="form-control form-control-sm"
                 [(ngModel)]="filtroNit"
                 (input)="loadCliente()"
                 placeholder="NIT">
        </div>

      </div>
    </div>
  </div>

  <!-- ================= TABLA ================= -->
  <div class="card shadow-sm">

    <div class="table-responsive" style="max-height: 55vh;">
      <table class="table table-hover table-sm align-middle mb-0">

        <thead class="table-light sticky-top">
          <tr class="text-center">
            <th>C칩digo</th>
            <th class="text-start">Nombre</th>
            <th>DUI</th>
            <th>NIT</th>
            <th style="width: 60px;">Acci칩n</th>
          </tr>
        </thead>

        <tbody>
          <tr *ngFor="let data of cliente"
              class="cliente-row"
              (dblclick)="guardar(data)">

            <td class="text-center fw-semibold">{{ data.id }}</td>
            <td>{{ data.nombre }} {{ data.apellido }}</td>
            <td class="text-center">{{ data.dui }}</td>
            <td class="text-center">{{ data.nit }}</td>
            <td class="text-center">
              <button class="btn btn-success btn-sm rounded-circle"
                      (click)="guardar(data)"
                      title="Seleccionar cliente">
                <i class="fas fa-check"></i>
              </button>
            </td>

          </tr>

          <tr *ngIf="cliente?.length === 0">
            <td colspan="5" class="text-center text-muted py-3">
              No se encontraron clientes
            </td>
          </tr>
        </tbody>

      </table>
    </div>

    <!-- ================= FOOTER ================= -->
    <div class="d-flex justify-content-between align-items-center px-3 py-2">

      <span class="small text-muted">
        P치gina {{ page + 1 }} de {{ totalPages.length }}
      </span>

      <div>
        <button class="btn btn-outline-secondary btn-sm me-2"
                (click)="paginaAnterior()"
                [disabled]="page === 0">
          <i class="fas fa-angle-left"></i>
        </button>

        <button class="btn btn-outline-secondary btn-sm"
                (click)="paginaSiguiente()"
                [disabled]="page + 1 >= totalPages.length">
          <i class="fas fa-angle-right"></i>
        </button>
      </div>

    </div>
  </div>

</div>
